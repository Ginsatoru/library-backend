@model LibrarySystemBBU.Models.Member

@{
    ViewData["Title"] = "Member Details";
}

<link rel="stylesheet" href="~/font-awesome/css/all.min.css" />

<style>
    /* Member details page tweaks using global theme */

    .member-detail-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: .75rem;
        margin-bottom: 1rem;
        flex-wrap: wrap;
    }

    .member-detail-card {
        margin: 0 auto;
    }

    .member-detail-card .card-body {
        position: relative;
        z-index: 1;
    }

    .member-detail-card.card::before {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        background:
            radial-gradient(circle at 0 0, rgba(219,234,254,0.85), transparent 55%),
            radial-gradient(circle at 110% 0, rgba(191,219,254,0.75), transparent 60%);
        opacity: .7;
    }

    .member-detail-avatar {
        width: 96px;
        height: 96px;
        border-radius: 999px;
        object-fit: cover;
        border: 3px solid var(--brand-secondary);
        background: #e0f2fe;
        box-shadow: 0 10px 26px rgba(37,99,235,0.45);
        margin-bottom: 1.4rem;
    }

    .badge-active {
        background: var(--ok);
        color: #0f172a;
        border-radius: 999px;
        padding: .35rem .9rem;
        box-shadow: 0 8px 18px rgba(34,197,94,0.45);
    }

    .badge-inactive {
        background: var(--muted);
        color: #f9fafb;
        border-radius: 999px;
        padding: .35rem .9rem;
        box-shadow: 0 8px 18px rgba(100,116,139,0.45);
    }

    .details-label {
        color: var(--brand);
        font-weight: 650;
        font-size: 0.98rem;
        display: flex;
        align-items: center;
        gap: .35rem;
        white-space: nowrap;
    }

    .details-label i {
        font-size: .95rem;
        color: var(--brand-secondary);
    }

    .details-value {
        color: var(--ink-main);
        font-size: .95rem;
        word-break: break-word;
    }

    @@media (max-width: 576px) {
        .details-label {
            font-size: 0.92rem;
        }

        .details-value {
            font-size: 0.9rem;
        }
    }
</style>
    <div class="wrap">
        <!-- Header -->
        <div class="member-detail-header">
            <h2 class="page-title mb-0">
                <span class="logo-dot"></span>
                Member Details
            </h2>

            <div class="d-flex gap-2 flex-wrap">
                <a asp-action="Index" class="btn btn-glass glass-surface-pill">
                    <i class="fa-solid fa-arrow-left"></i> Back to List
                </a>
                <a asp-action="Edit" asp-route-id="@Model?.MemberId" class="btn btn-glass glass-surface-pill">
                    <i class="fa-solid fa-pen-to-square"></i> Edit Member
                </a>
            </div>
        </div>

        <!-- Glass detail card -->
        <div class="card glass-surface member-detail-card mt-5">
            <div class="card-body px-4 py-4">
                <div class="text-center mb-3">
                    <img src="@(string.IsNullOrWhiteSpace(Model.ProfilePicturePath)
                                ? "https://ui-avatars.com/api/?name=" + (Model.FullName ?? "Member") + "&background=60a5fa&color=fff&size=128"
                                : Model.ProfilePicturePath)"
                         class="member-detail-avatar"
                         alt="Profile Picture" />

                    <h3 class="fw-bold mb-1" style="color:#020617;">
                        <i class="fa-solid fa-user"></i> @Model.FullName
                    </h3>

                    <span class="badge @(Model.IsActive ? "badge-active" : "badge-inactive") mt-1">
                        <i class="fa-solid @(Model.IsActive ? "fa-circle-check" : "fa-circle-xmark")"></i>
                        @(Model.IsActive ? "Active" : "Inactive")
                    </span>
                </div>

                <dl class="row mb-0">
                    <dt class="col-sm-4 details-label">
                        <i class="fa-solid fa-venus-mars"></i> Gender
                    </dt>
                    <dd class="col-sm-8 details-value">@Model.Gender</dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-solid fa-envelope"></i> Email
                    </dt>
                    <dd class="col-sm-8 details-value">@Model.Email</dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-solid fa-phone"></i> Phone
                    </dt>
                    <dd class="col-sm-8 details-value">@Model.Phone</dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-solid fa-location-dot"></i> Address
                    </dt>
                    <dd class="col-sm-8 details-value">@Model.Address</dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-solid fa-id-card-clip"></i> Member Type
                    </dt>
                    <dd class="col-sm-8 details-value">@Model.MemberType</dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-solid fa-id-card"></i> Library ID
                    </dt>
                    <dd class="col-sm-8 details-value">@Model.DICardNumber</dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-brands fa-telegram"></i> Telegram Chat ID
                    </dt>
                    <dd class="col-sm-8 details-value">@Model.TelegramChatId</dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-brands fa-telegram"></i> Telegram Username
                    </dt>
                    <dd class="col-sm-8 details-value">@Model.TelegramUsername</dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-solid fa-calendar-plus"></i> Joined
                    </dt>
                    <dd class="col-sm-8 details-value">
                        @Model.JoinDate.ToString("yyyy-MM-dd")
                    </dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-solid fa-clock"></i> Modified
                    </dt>
                    <dd class="col-sm-8 details-value">
                        @Model.Modified.ToString("yyyy-MM-dd HH:mm")
                    </dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-solid fa-user-tie"></i> Linked User
                    </dt>
                    <dd class="col-sm-8 details-value">@Model.Users?.UserName</dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-solid fa-user"></i> Created By
                    </dt>
                    <dd class="col-sm-8 details-value">@Model.CreatedBy</dd>

                    <dt class="col-sm-4 details-label">
                        <i class="fa-solid fa-note-sticky"></i> Notes
                    </dt>
                    <dd class="col-sm-8 details-value">@Model.Notes</dd>
                </dl>

                <div class="text-center mt-4">
                    <a asp-action="Edit"
                       asp-route-id="@Model?.MemberId"
                       class="btn btn-glass btn-brand me-2 px-4">
                        <i class="fa-solid fa-pen-to-square"></i> Edit
                    </a>
                    <a asp-action="Index"
                       class="btn btn-glass glass-surface-pill px-4">
                        <i class="fa-solid fa-arrow-left"></i> Back to List
                    </a>
                </div>
            </div>
        </div>
    </div>

